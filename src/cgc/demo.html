<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="renderer" content="webkit">
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <!--link rel="stylesheet" href="css/index.css" -->
  <title>测试</title>
  <script src="js/dist.js"></script>
</head>
<body>
  <p id="app"></p>
  <p id="app1"></p>
  <p id="ajax"></p>
  <button id="btn" type="button">window.open</button>
  <button id="btn1" type="button">callNative</button>
  <button id="btnGet" type="button">发送ajax Get</button>
  <button id="btnPost" type="button">发送ajax POST</button>
  <script>
    var btn = document.getElementById('btn');
    btn.onclick = function(){
      console.log('11')
      window.open('https://wangjian.ckyun.autohome.com.cn?show=1')
    }

var app = document.getElementById('app');
var app1 = document.getElementById('app1');
var btnGet = document.getElementById('btnGet');
var btnPost = document.getElementById('btnPost');
var ajax = document.getElementById('ajax');
window.test = function(arg){
  app.textContent = arg;
}

btn1.onclick = function(){
  ApiBridge.callNative("yclass", "yget", {
    name:'test',
    arr1:[
    {value:'1'},
    {value:'2'}
    ],
    bool:true,
    num:1,
    obj1:{
      obj11:22
    }
  }, function (arg){
    alert(JSON.stringify(arg));
    app1.textContent = '' + arg; 
    ApiBridge.log(arg,Math.random());
  });
}

btnGet.onclick = function(){
  console.log('get')
  vm.ajax({
    url: "http://news.app.autohome.com.cn/home/test/requestGet",              //请求地址
    type: "GET",                       //请求方式
    data: { key: "testKey"  },        //请求参数
    dataType: "json",
    success: function (res, xml) {
      console.log(res)
        ajax.textContent = res;
    },
    fail: function (sta) {
      console.log(sta)
        ajax.textContent = sta;
    }

  });
}
btnPost.onclick = function(){
  vm.ajax({
    url: "http://news.app.autohome.com.cn/home/test/requestPost",              //请求地址
    type: "POST",                       //请求方式
    data: { key: "testKey", value: "testValue"  },        //请求参数
    dataType: "json",
    success: function (res, xml) {
      console.log(res)
        ajax.textContent = res;
    },
    fail: function (sta) {
      console.log(sta)
        ajax.textContent = sta;
    }

  });
}

  </script>
  
</body>
  <script src="js/kerkee.js"></script>
</html>
